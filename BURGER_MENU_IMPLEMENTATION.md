# Реализация бургер-меню

## Обзор

Реализована система бургер-меню для навигации в приложении Campanion Pro. Левое меню (сайдбар) **скрыто по умолчанию** на всех устройствах и управляется бургер-кнопкой, которая располагается слева от логотипа в хедере.

## Основные изменения

### 1. Создан контекст SidebarContext (`src/contexts/SidebarContext.tsx`)
- Управляет состоянием сайдбара (открыт/закрыт)
- Предоставляет функции: `toggleSidebar`, `closeSidebar`, `openSidebar`
- **По умолчанию `isOpen = false`** (меню скрыто)

### 2. Обновлен Header (`src/components/Header.tsx`)
- Добавлена бургер-кнопка слева от логотипа
- Кнопка появляется для авторизованных пользователей и на публичных страницах
- Интегрирована с SidebarContext для управления состоянием

### 3. Переделан Sidebar (`src/components/Sidebar.tsx`)
- **Всегда работает как overlay-меню** на всех экранах
- Fixed позиционирование с плавной анимацией
- **Скрыт по умолчанию** (`-translate-x-full`)
- Показывается только при `isOpen = true` (`translate-x-0`)
- Backdrop/overlay для закрытия кликом вне меню
- Автоматическое закрытие при:
  - Переходе по ссылкам
  - Нажатии Escape
  - Клике вне меню

### 4. Упрощен Layout (`src/app/layout.tsx`)
- Убран AppLayout компонент (больше не нужен)
- Sidebar размещен как overlay вне основной структуры
- **Нет отступов** для основного контента

## Особенности дизайна

### Поведение
- **Все устройства**: Меню скрыто по умолчанию, управляется бургер-кнопкой
- **Универсальность**: Одинаковое поведение на мобильных и десктопах
- **Overlay-режим**: Меню накладывается поверх контента, не сдвигая его

### UX улучшения
- Плавная анимация появления/исчезновения (300ms)
- Accessibility: поддержка Escape, aria-labels
- Автоматическое закрытие после навигации
- Блокировка скролла при открытом меню
- Визуальная обратная связь (hover эффекты)
- Полупрозрачный backdrop на всех экранах

### Интерфейс
- Бургер-кнопка с иконкой Menu из Lucide React
- Кнопка закрытия (X) в заголовке сайдбара
- Полупрозрачный backdrop для визуального разделения
- Footer с информацией о приложении

## Техническая реализация

### Состояние управления
```typescript
interface SidebarContextType {
  isOpen: boolean;        // По умолчанию false
  toggleSidebar: () => void;
  closeSidebar: () => void;
  openSidebar: () => void;
}
```

### Анимации
- `transform: translateX()` для плавного выдвижения
- `transition-transform duration-300 ease-in-out`
- Условные классы: `isOpen ? "translate-x-0" : "-translate-x-full"`

### Стили Tailwind
- `fixed left-0 top-0 z-50` - overlay позиционирование
- `w-64` - фиксированная ширина 256px
- `shadow-lg` - тень для визуального отделения
- `bg-black/50` - полупрозрачный backdrop

## Исправления

### v1.1 - Корректное поведение скрытия
- ✅ **Скрыто по умолчанию**: Меню не видно при загрузке страницы
- ✅ **Универсальное поведение**: Одинаково на всех экранах
- ✅ **Корректное переключение**: Бургер-кнопка правильно открывает/закрывает меню
- ✅ **Убраны отступы**: Контент использует всю ширину экрана
- ✅ **Упрощена структура**: Удален избыточный AppLayout компонент

## Совместимость

- ✅ Работает на всех размерах экранов
- ✅ Поддерживает сенсорные устройства  
- ✅ Клавиатурная навигация (Escape)
- ✅ Совместимо с существующей системой аутентификации
- ✅ Правильно работает для публичных и защищенных страниц

## Использование

Пользователи могут:
1. **Нажать на бургер-кнопку** (☰) для открытия скрытого меню
2. **Кликнуть вне меню** или нажать Escape для закрытия
3. **Использовать кнопку закрытия** (×) в заголовке меню
4. **Навигировать по пунктам меню** с автозакрытием

При первом заходе на сайт меню всегда скрыто, что обеспечивает чистый интерфейс и максимальное использование пространства экрана. 